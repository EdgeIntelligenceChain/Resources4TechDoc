牧风:
理想的设计方案是节点先判断对面是不是同一子网，如果是，则使用内网IP通信，如果是外网，需要进行映射处理，可以避免很多问题。

牧风:
如果都使用外网IP通信，第一时延很大，一次连接即便Pynat也需要3s左右查询，第二有些NAT不支持回流，也称为hairpin，同一子网下不能使用外网IP通信（北邮校园网可以）

